import{m as y,o as H,r as P,c as o,b as l,f as a,t as c,z as B,i as u,A as h,B as g,j as t,v as p,e as n,F as f,k as v,h as j,C as O,d as Y,u as F,_ as z}from"./app-BQZOJ0DL.js";import{u as J,m as Q,r as $,e as D}from"./index-DtIU7sGh.js";const q={class:"box py-4"},M={key:0},U={class:"columns mb-0"},Z={class:"column"},A={class:"field"},G={class:"control has-icons-left has-icons-right"},R=["aria-invalid"],W={class:"icon is-small is-left"},X={key:0,class:"icon is-small is-right"},L={key:1,class:"icon is-small is-right"},K={class:"field"},ss={class:"control has-icons-left has-icons-right"},es=["aria-invalid"],ts={class:"icon is-small is-left"},as={key:0,class:"icon is-small is-right"},is={key:1,class:"icon is-small is-right"},os={class:"field"},ls={class:"control has-icons-left has-icons-right"},ns=["aria-invalid"],rs={class:"icon is-small is-left"},ds={key:0,class:"icon is-small is-right"},us={key:1,class:"icon is-small is-right"},ms={class:"field"},cs={class:"control has-icons-left has-icons-right"},ps=["aria-invalid"],fs={class:"icon is-small is-left"},bs={key:0,class:"icon is-small is-right"},hs={key:1,class:"icon is-small is-right"},gs={class:"field"},vs={class:"control has-icons-left has-icons-right"},$s=["aria-invalid"],ys={class:"icon is-small is-left"},Ns={key:0,class:"icon is-small is-right"},ks={key:1,class:"icon is-small is-right"},Es={class:"field"},js={class:"control has-icons-left has-icons-right"},_s=["aria-invalid"],ws={class:"icon is-small is-left"},Ds={key:0,class:"icon is-small is-right"},Cs={key:1,class:"icon is-small is-right"},Ss={class:"field"},Vs={class:"control"},xs=["aria-invalid"],Is={key:0,class:"notification is-danger is-light mt-3"},Ts={key:1,class:"notification is-danger is-light mt-3"},Hs={class:"control mt-4"},Ps=["disabled"],Bs={__name:"SubmissionForm",setup(C){const b=y(!1),N=y(!0),k=y(null),_=y(!1),w=y(!1),S=()=>{var m=document.querySelector("#captcha-container");AwsWafCaptcha.renderCaptcha(m,{apiKey:"gpXqf8izCY3eGXU4iRbCEm8Yp4OI08/v0+b138h1LgTC8XC+2VVv50BAfiYJwmbRNI0HbUJj4bu83kQH0VCCZGENdAjnQXLR7MWGFIGHu5TVZ/K1hF5tBEY7orBFJ87Kngy33UDeCCaatvD8zS4NItc8s9vCJNldpmPRSqFavQJxRuzH1NC1wIo5sa39r8CieGxz+u2brKkBdYHW/dQ7tC3H/VtJZeC8yYQ47ocejUCeMleE2uqdYJ3OdMRlP7wrjaj/njZJMndvQoqA9Y8nE4wg3fFyICY0wVbem9SCUfr9gpvqHjSBznVzFwfY9Yz12365T3A3ukaQQWIcKNare7//wLqHZ4wyHkEXd3HGus2IXvDBossNcZRp8XDwbXKE6hUlVqYtoeqWow96ZEfka/yg8NOrosUMlCQuyrC5xdhO7I4kgleVfwU+80QkRMzFso0oC9vmn3FNFOfNonBspk6CQ9OO2gQoXYVDnVZ7oZXurHVOMMh36VzqAuvCQJVfLNEncsB2GQVmBLfY/fuTG9FciQyVw9uZytDpBkuTcp+nXb3ZV54KvjIf2+wSW4z2uVoY2DeGh9ZGJv5MQEd6PsYPkRhPyWt7EibH/Tp8rVZboKKkye0H/r+RBrSGe471TQEO0YnhFLVr4qAlDIaylyslIYg4aUWnVH9986X38kI=_0_1",onSuccess:V,onError:x,dynamicWidth:!0,disableLanguageSelector:!0,skipTitle:!0})},V=m=>{N.value=!1},x=m=>{k.value=m},I=()=>{b.value=!0,e.value.$validate(),e.value.$invalid?(_.value=!0,b.value=!1):AwsWafIntegration.fetch("https://s6ecoa09xe.execute-api.us-east-1.amazonaws.com/v1/forms/data-submission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E.value)}).then(async s=>{s.ok?(w.value=!0,O(await s.json())):k.value="Response could not be successfully returned.",b.value=!1}).catch(s=>{k.value="Form could not be submitted",b.value=!1})},E=y({publisher:"",submitterName:"",submitterEmail:"",jpoName:"",jpoEmail:"",datasetName:"",datasetDescription:""}),T={publisher:{required:$},submitterName:{required:$},submitterEmail:{required:$,email:D},jpoName:{required:$},jpoEmail:{required:$,email:D},datasetName:{required:$},datasetDescription:{required:$,minLength:Q(100)}},e=J(T,E),d=m=>!m.$invalid&&m.$dirty;return H(()=>{S()}),(m,s)=>{const r=P("font-awesome-icon");return l(),o("div",q,[w.value?(l(),o("div",M,[s[14]||(s[14]=a("h2",{class:"section-heading"},"You have submitted a dataset",-1)),s[15]||(s[15]=a("p",{class:"mb-2"},"Someone will reach out soon for more information. Here is a summary of the information you submitted:",-1)),a("pre",null,c(E.value),1)])):(l(),o("form",{key:1,onSubmit:B(I,["prevent"])},[s[35]||(s[35]=a("h2",{class:"section-heading mb-4"},"DataHub Submission Form",-1)),a("div",U,[a("div",Z,[a("div",A,[s[16]||(s[16]=a("label",{class:"label mb-0",for:"publisher"},"Publisher",-1)),s[17]||(s[17]=a("p",{class:"help mt-0 mb-2"},"What organization is responsible for maintaining the project?",-1)),a("div",G,[h(a("input",{class:p(["input",{"is-danger":t(e).publisher.$error,"is-success":d(t(e).publisher)}]),type:"text",id:"publisher",placeholder:"Name of Publishing Organization","onUpdate:modelValue":s[0]||(s[0]=i=>t(e).publisher.$model=i),onBlur:s[1]||(s[1]=(...i)=>t(e).publisher.$touch&&t(e).publisher.$touch(...i)),"aria-invalid":t(e).publisher.$error},null,42,R),[[g,t(e).publisher.$model]]),a("span",W,[n(r,{icon:"fa-solid fa-building"})]),t(e).publisher.$error?(l(),o("span",X,[n(r,{icon:"fa-solid fa-exclamation-triangle"})])):u("",!0),d(t(e).publisher)?(l(),o("span",L,[n(r,{icon:"fa-solid fa-check"})])):u("",!0)]),(l(!0),o(f,null,v(t(e).publisher.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))]),s[24]||(s[24]=a("label",{class:"label mb-0"},"Submitter Information",-1)),s[25]||(s[25]=a("p",{class:"help mb-2 mt-0"},"Please provide your contact information. A follow-up email will be sent informing you of next steps.",-1)),a("div",K,[s[18]||(s[18]=a("label",{class:"is-sr-only",for:"submitterName"},"Submitter Name",-1)),a("p",ss,[h(a("input",{class:p(["input",{"is-danger":t(e).submitterName.$error,"is-success":d(t(e).submitterName)}]),type:"text",id:"submitterName",placeholder:"Name of Submitter","onUpdate:modelValue":s[2]||(s[2]=i=>t(e).submitterName.$model=i),onBlur:s[3]||(s[3]=(...i)=>t(e).submitterName.$touch&&t(e).submitterName.$touch(...i)),"aria-invalid":t(e).submitterName.$error},null,42,es),[[g,t(e).submitterName.$model]]),a("span",ts,[n(r,{icon:"fa-solid fa-user"})]),t(e).submitterName.$error?(l(),o("span",as,[n(r,{icon:"fa-solid fa-exclamation-triangle"})])):u("",!0),d(t(e).submitterName)?(l(),o("span",is,[n(r,{icon:"fa-solid fa-check"})])):u("",!0)]),(l(!0),o(f,null,v(t(e).submitterName.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))]),a("div",os,[s[19]||(s[19]=a("label",{class:"is-sr-only",for:"submitterEmail"},"Submitter Email",-1)),a("p",ls,[h(a("input",{class:p(["input",{"is-danger":t(e).submitterEmail.$error,"is-success":d(t(e).submitterEmail)}]),type:"text",placeholder:"Email of Submitter",id:"submitterEmail","onUpdate:modelValue":s[4]||(s[4]=i=>t(e).submitterEmail.$model=i),onBlur:s[5]||(s[5]=(...i)=>t(e).submitterEmail.$touch&&t(e).submitterEmail.$touch(...i)),"aria-invalid":t(e).submitterEmail.$error},null,42,ns),[[g,t(e).submitterEmail.$model]]),a("span",rs,[n(r,{icon:"fa-solid fa-envelope"})]),t(e).submitterEmail.$error?(l(),o("span",ds,[n(r,{icon:"fa-solid fa-exclamation-triangle"})])):u("",!0),d(t(e).submitterEmail)?(l(),o("span",us,[n(r,{icon:"fa-solid fa-check"})])):u("",!0)]),(l(!0),o(f,null,v(t(e).submitterEmail.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))]),s[26]||(s[26]=a("label",{class:"label mb-0"},"JPO Contact Information",-1)),s[27]||(s[27]=a("p",{class:"help mb-2 mt-0"},"Who is your JPO Project Manager for this project? They will be required to approve your submission before the process can continue.",-1)),a("div",ms,[s[20]||(s[20]=a("label",{class:"is-sr-only",for:"jpoName"},"JPO Contact Name",-1)),a("p",cs,[h(a("input",{class:p(["input",{"is-danger":t(e).jpoName.$error,"is-success":d(t(e).jpoName)}]),type:"text",id:"jpoName",placeholder:"Name of Project Manager","onUpdate:modelValue":s[6]||(s[6]=i=>t(e).jpoName.$model=i),onBlur:s[7]||(s[7]=(...i)=>t(e).jpoName.$touch&&t(e).jpoName.$touch(...i)),"aria-invalid":t(e).jpoName.$error},null,42,ps),[[g,t(e).jpoName.$model]]),a("span",fs,[n(r,{icon:"fa-solid fa-user"})]),t(e).jpoName.$error?(l(),o("span",bs,[n(r,{icon:"fa-solid fa-exclamation-triangle"})])):u("",!0),d(t(e).jpoName)?(l(),o("span",hs,[n(r,{icon:"fa-solid fa-check"})])):u("",!0)]),(l(!0),o(f,null,v(t(e).jpoName.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))]),a("div",gs,[s[21]||(s[21]=a("label",{class:"is-sr-only",for:"jpoEmail"},"JPO Contact Email",-1)),a("p",vs,[h(a("input",{class:p(["input",{"is-danger":t(e).jpoEmail.$error,"is-success":d(t(e).jpoEmail)}]),type:"text",id:"jpoEmail",placeholder:"Email of Project Manager","onUpdate:modelValue":s[8]||(s[8]=i=>t(e).jpoEmail.$model=i),onBlur:s[9]||(s[9]=(...i)=>t(e).jpoEmail.$touch&&t(e).jpoEmail.$touch(...i)),"aria-invalid":t(e).jpoEmail.$error},null,42,$s),[[g,t(e).jpoEmail.$model]]),a("span",ys,[n(r,{icon:"fa-solid fa-envelope"})]),t(e).jpoEmail.$error?(l(),o("span",Ns,[n(r,{icon:"fa-solid fa-exclamation-triangle"})])):u("",!0),d(t(e).jpoEmail)?(l(),o("span",ks,[n(r,{icon:"fa-solid fa-check"})])):u("",!0)]),(l(!0),o(f,null,v(t(e).jpoEmail.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))]),s[28]||(s[28]=a("label",{class:"label mb-0"},"Dataset Information",-1)),s[29]||(s[29]=a("p",{class:"help mt-0 mb-2"},"Include the name of the dataset and a brief description of the data being made available, including information about the project that generated the data.",-1)),a("div",Es,[s[22]||(s[22]=a("label",{class:"is-sr-only",for:"datasetName"},"Dataset Name",-1)),a("p",js,[h(a("input",{class:p(["input",{"is-danger":t(e).datasetName.$error,"is-success":d(t(e).datasetName)}]),type:"text",id:"datasetName",placeholder:"Name of Dataset","onUpdate:modelValue":s[10]||(s[10]=i=>t(e).datasetName.$model=i),onBlur:s[11]||(s[11]=(...i)=>t(e).datasetName.$touch&&t(e).datasetName.$touch(...i)),"aria-invalid":t(e).datasetName.$error},null,42,_s),[[g,t(e).datasetName.$model]]),a("span",ws,[n(r,{icon:"fa-solid fa-file-pen"})]),t(e).datasetName.$error?(l(),o("span",Ds,[n(r,{icon:"fa-solid fa-exclamation-triangle"})])):u("",!0),d(t(e).datasetName)?(l(),o("span",Cs,[n(r,{icon:"fa-solid fa-check"})])):u("",!0)]),(l(!0),o(f,null,v(t(e).datasetName.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))]),a("div",Ss,[s[23]||(s[23]=a("label",{class:"is-sr-only",for:"datasetDescription"},"Dataset Description",-1)),a("p",Vs,[h(a("textarea",{class:p(["textarea has-fixed-size",{"is-danger":t(e).datasetDescription.$error,"is-success":d(t(e).datasetDescription)}]),placeholder:"Description of Dataset",id:"datasetDescription","onUpdate:modelValue":s[12]||(s[12]=i=>t(e).datasetDescription.$model=i),onBlur:s[13]||(s[13]=(...i)=>t(e).datasetDescription.$touch&&t(e).datasetDescription.$touch(...i)),"aria-invalid":t(e).datasetDescription.$error},null,42,xs),[[g,t(e).datasetDescription.$model]])]),(l(!0),o(f,null,v(t(e).datasetDescription.$errors,i=>(l(),o("p",{class:"help is-danger",key:i.$uid},c(i.$message),1))),128))])])]),s[36]||(s[36]=a("label",{class:"label mb-0",for:"captcha-container"},"Complete the Captcha Puzzle",-1)),s[37]||(s[37]=a("div",{class:"",id:"captcha-container"},null,-1)),k.value?(l(),o("div",Is,[a("p",null,[s[30]||(s[30]=j("A server error has been encountered: ",-1)),a("strong",null,c(k.value),1),s[31]||(s[31]=j(". If errors persist, please contact ",-1)),s[32]||(s[32]=a("a",{href:"mailto:data.itsjpo@dot.gov"},"data.itsjpo@dot.gov",-1)),s[33]||(s[33]=j(" for additional support.",-1))])])):u("",!0),_.value&&!d(t(e))?(l(),o("div",Ts,[...s[34]||(s[34]=[a("p",null,"Your submission was invalid. Please correct the errors above to submit.",-1)])])):u("",!0),a("div",Hs,[a("button",{class:p(["button is-primary",{"is-loading":b.value}]),type:"submit",disabled:N.value||b.value,"aria-label":"Submit Form"}," Submit ",10,Ps)])],32))])}}},Os={class:"pb-6 has-padding-mobile"},Ys={class:"container is-max-desktop"},Js=Y({__name:"SubmissionView",setup(C){return F({title:"Department of Transportation - ITS DataHub | Metadata Guidelines",meta:[{name:"description",content:"A guide to submitting data to the ITS DataHub."}]}),(b,N)=>(l(),o(f,null,[n(z),a("main",null,[a("section",Os,[a("div",Ys,[N[0]||(N[0]=a("article",{class:"mb-4"},[a("h1",{class:"page-heading mt-5 has-color-dot"},"ITS DataHub Submissions"),a("p",{class:"mb-2"}," ITS DataHub is a web-system designed for storing and making any open, non-personally identifiable data generated by the ITS Joint Program Office (JPO) funded projects discoverable. If you have a dataset that you would like to include in the ITS DataHub, please submit the form below to send your request to the ITS JPO Data Program. The information you are required to submit will include the publisher, a point of contact, the name of the dataset, and a description of the data being included. "),a("p",{class:"mb-2"}," After you submit the form below, an administrator will be in contact to follow up with next steps, which will include generating a metadata file for your project and submitting it as a ZIP file to ITS DataHub. ")],-1)),n(Bs)])])])],64))}});export{Js as default};
