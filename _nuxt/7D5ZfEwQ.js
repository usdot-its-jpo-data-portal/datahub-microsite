import{f as y,z,s as v,o as c,w as f,A as b,d as R,x as A,j as l,P as D,B as at,C as pe,D as ne,h as m,E as ke,G as qe,t as L,H as ae,F as E,J as fe,K as O,L as st,M as ge,N as nt,O as Ie,Q as ot,R as rt,S as Y,T as lt,U as it,V as ut,W as ve,X as Se,b as _,Y as oe,Z as Te,$ as Pe,c as C,i as I,r as U,a0 as we,a1 as Q,a2 as j,n as q,a3 as ct,a as w,a4 as J,a5 as ye,q as V,y as se,a6 as dt,v as Re,a7 as pt,I as ft,a8 as Fe,a9 as gt,aa as Be,ab as vt,ac as mt,ad as ht,k as _t,ae as yt,af as bt,ag as Ct,ah as xt,ai as $t,aj as kt,ak as Ee,al as H,am as ue,l as qt,m as It,g as St,p as Tt}from"./CTM-UXwp.js";import{C as Ae}from"./DO-GUAxx.js";import{b as Oe,u as Pt,t as wt,a as Le,r as Z,c as ee,d as Rt,S as Ft}from"./eOq5Wvh2.js";import De from"./DJC-8wIr.js";import{_ as Ve}from"./DHuvJM40.js";import{d as je}from"./CgvfCpju.js";import Bt from"./DMXReEX-.js";import{_ as me}from"./1SaarQ5-.js";import"./05kT4I3W.js";import"./DZ9OMGKV.js";import"./BKowkTF0.js";import"./CM4A4mA2.js";import"./DIJoEdYV.js";import"./DGaKuYAa.js";import"./CxFUOmY2.js";import"./_e_qfkaz.js";import"./Edj9Qn0N.js";import"./Cw_PYYjt.js";var Et=y({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;return z(),(a,s)=>(c(),v(l(D),A(e,{"data-type":"ellipsis"}),{default:f(()=>[b(a.$slots,"default",{},()=>[s[0]||(s[0]=R("â€¦"))])]),_:3},16))}}),At=Et;const[W,Ot]=at("PaginationRoot");var Lt=y({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(t,{emit:e}){const a=t,s=e,{siblingCount:n,disabled:o,showEdges:r}=pe(a);z();const u=ne(a,"page",s,{defaultValue:a.defaultPage,passive:a.page===void 0}),p=m(()=>Math.max(1,Math.ceil(a.total/(a.itemsPerPage||1))));return Ot({page:u,onPageChange(i){u.value=i},pageCount:p,siblingCount:n,disabled:o,showEdges:r}),(i,g)=>(c(),v(l(D),{as:i.as,"as-child":i.asChild},{default:f(()=>[b(i.$slots,"default",{page:l(u),pageCount:p.value})]),_:3},8,["as","as-child"]))}}),Dt=Lt,Vt=y({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,a=W();z();const s=m(()=>a.page.value===1||a.disabled.value);return(n,o)=>(c(),v(l(D),A(e,{"aria-label":"First Page",type:n.as==="button"?"button":void 0,disabled:s.value,onClick:o[0]||(o[0]=r=>!s.value&&l(a).onPageChange(1))}),{default:f(()=>[b(n.$slots,"default",{},()=>[o[1]||(o[1]=R("First page"))])]),_:3},16,["type","disabled"]))}}),jt=Vt,Ut=y({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,a=W();z();const s=m(()=>a.page.value===a.pageCount.value||a.disabled.value);return(n,o)=>(c(),v(l(D),A(e,{"aria-label":"Last Page",type:n.as==="button"?"button":void 0,disabled:s.value,onClick:o[0]||(o[0]=r=>!s.value&&l(a).onPageChange(l(a).pageCount.value))}),{default:f(()=>[b(n.$slots,"default",{},()=>[o[1]||(o[1]=R("Last page"))])]),_:3},16,["type","disabled"]))}}),Mt=Ut;function N(t,e){const a=e-t+1;return Array.from({length:a},(s,n)=>n+t)}function Nt(t){return t.map(e=>typeof e=="number"?{type:"page",value:e}:{type:"ellipsis"})}const te="ellipsis";function zt(t,e,a,s){const o=e,r=Math.max(t-a,1),u=Math.min(t+a,o);if(s){const i=Math.min(2*a+5,e)-2,g=r>3&&Math.abs(o-i-1+1)>2&&Math.abs(r-1)>2,d=u<o-2&&Math.abs(o-i)>2&&Math.abs(o-u)>2;if(!g&&d)return[...N(1,i),te,o];if(g&&!d){const k=N(o-i+1,o);return[1,te,...k]}if(g&&d){const k=N(r,u);return[1,te,...k,te,o]}return N(1,o)}else{const p=a*2+1;return e<p?N(1,o):t<=a+1?N(1,p):e-t<=a?N(e-p+1,o):N(r,u)}}var Gt=y({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const e=t;z();const a=W(),s=m(()=>Nt(zt(a.page.value,a.pageCount.value,a.siblingCount.value,a.showEdges.value)));return(n,o)=>(c(),v(l(D),ke(qe(e)),{default:f(()=>[b(n.$slots,"default",{items:s.value})]),_:3},16))}}),Ht=Gt,Kt=y({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;z();const a=W(),s=m(()=>a.page.value===e.value),n=m(()=>a.disabled.value);return(o,r)=>(c(),v(l(D),A(e,{"data-type":"page","aria-label":`Page ${o.value}`,"aria-current":s.value?"page":void 0,"data-selected":s.value?"true":void 0,disabled:n.value,type:o.as==="button"?"button":void 0,onClick:r[0]||(r[0]=u=>!n.value&&l(a).onPageChange(o.value))}),{default:f(()=>[b(o.$slots,"default",{},()=>[R(L(o.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Qt=Kt,Wt=y({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;z();const a=W(),s=m(()=>a.page.value===a.pageCount.value||a.disabled.value);return(n,o)=>(c(),v(l(D),A(e,{"aria-label":"Next Page",type:n.as==="button"?"button":void 0,disabled:s.value,onClick:o[0]||(o[0]=r=>!s.value&&l(a).onPageChange(l(a).page.value+1))}),{default:f(()=>[b(n.$slots,"default",{},()=>[o[1]||(o[1]=R("Next page"))])]),_:3},16,["type","disabled"]))}}),Yt=Wt,Jt=y({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t;z();const a=W(),s=m(()=>a.page.value===1||a.disabled.value);return(n,o)=>(c(),v(l(D),A(e,{"aria-label":"Previous Page",type:n.as==="button"?"button":void 0,disabled:s.value,onClick:o[0]||(o[0]=r=>!s.value&&l(a).onPageChange(l(a).page.value-1))}),{default:f(()=>[b(n.$slots,"default",{},()=>[o[1]||(o[1]=R("Prev page"))])]),_:3},16,["type","disabled"]))}}),Xt=Jt;function be(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}function Zt(t){return t==null}function Ue(t,e){return Zt(t)?!1:Array.isArray(t)?t.some(a=>ae(a,e)):ae(t,e)}function Me(t){return t?t.flatMap(e=>e.type===E?Me(e.children):[e]):[]}const[ea]=fe("ConfigProvider");function Ne(t){const e=ea({dir:O("ltr")});return m(()=>t?.value||e.dir?.value||"ltr")}function ze(t){return m(()=>st(t)?!!ge(t)?.closest("form"):!0)}function he(){const t=nt(),e=O(),a=m(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:ge(e)),s=Object.assign({},t.exposed),n={};for(const r in t.props)Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>t.props[r]});if(Object.keys(s).length>0)for(const r in s)Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>s[r]});Object.defineProperty(n,"$el",{enumerable:!0,configurable:!0,get:()=>t.vnode.el}),t.exposed=n;function o(r){e.value=r,r&&(Object.defineProperty(n,"$el",{enumerable:!0,configurable:!0,get:()=>r instanceof Element?r:r.$el}),t.exposed=n)}return{forwardRef:o,currentRef:e,currentElement:a}}function ta(t,e="reka"){return`${e}-${Ie?.()}`}const ce=y({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:e,slots:a}){return()=>{if(!a.default)return null;const s=Me(a.default()),n=s.findIndex(p=>p.type!==ot);if(n===-1)return s;const o=s[n];delete o.props?.ref;const r=o.props?A(e,o.props):e,u=rt({...o,props:{}},r);return s.length===1?u:(s[n]=u,s)}}}),aa=["area","img","input"],G=y({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:e,slots:a}){const s=t.asChild?"template":t.as;return typeof s=="string"&&aa.includes(s)?()=>Y(s,e):s!=="template"?()=>Y(t.as,e,{default:a.default}):()=>Y(ce,e,{default:a.default})}});function de(){const t=O(),e=m(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:ge(t));return{primitiveElement:t,currentElement:e}}function sa({type:t,defaultValue:e,modelValue:a}){const s=a||e;return a!==void 0||e!==void 0?Array.isArray(s)?"multiple":"single":t??"single"}function na({type:t,defaultValue:e,modelValue:a}){return t||sa({type:t,defaultValue:e,modelValue:a})}function oa({type:t,defaultValue:e}){return e!==void 0?e:t==="single"?void 0:[]}function ra(t,e){const a=m(()=>na(t)),s=ne(t,"modelValue",e,{defaultValue:oa(t),passive:t.modelValue===void 0,deep:!0});function n(r){if(a.value==="single")s.value=ae(r,s.value)?void 0:r;else{const u=Array.isArray(s.value)?[...s.value||[]]:[s.value].filter(Boolean);if(Ue(u,r)){const p=u.findIndex(i=>ae(i,r));u.splice(p,1)}else u.push(r);s.value=u}}const o=m(()=>a.value==="single");return{modelValue:s,changeModelValue:n,isSingle:o}}const Ce="data-reka-collection-item";function Ge(t={}){const{key:e="",isProvider:a=!1}=t,s=`${e}CollectionProvider`;let n;if(a){const g=O(new Map);n={collectionRef:O(),itemMap:g},Se(s,n)}else n=lt(s);const o=(g=!1)=>{const d=n.collectionRef.value;if(!d)return[];const h=Array.from(d.querySelectorAll(`[${Ce}]`)),P=Array.from(n.itemMap.value.values()).sort(($,S)=>h.indexOf($.ref)-h.indexOf(S.ref));return g?P:P.filter($=>$.ref.dataset.disabled!=="")},r=y({name:"CollectionSlot",setup(g,{slots:d}){const{primitiveElement:h,currentElement:k}=de();return ve(k,()=>{n.collectionRef.value=k.value}),()=>Y(ce,{ref:h},d)}}),u=y({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(g,{slots:d,attrs:h}){const{primitiveElement:k,currentElement:P}=de();return it($=>{if(P.value){const S=ut(P.value);n.itemMap.value.set(S,{ref:P.value,value:g.value}),$(()=>n.itemMap.value.delete(S))}}),()=>Y(ce,{...h,[Ce]:"",ref:k},d)}}),p=m(()=>Array.from(n.itemMap.value.values())),i=m(()=>n.itemMap.value.size);return{getItems:o,reactiveItems:p,itemMapSize:i,CollectionSlot:r,CollectionItem:u}}const la="rovingFocusGroup.onEntryFocus",ia={bubbles:!1,cancelable:!0},ua={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ca(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function da(t,e,a){const s=ca(t.key,a);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return ua[s]}function He(t,e=!1){const a=be();for(const s of t)if(s===a||(s.focus({preventScroll:e}),be()!==a))return}function pa(t,e){return t.map((a,s)=>t[(e+s)%t.length])}const[fa,ga]=fe("RovingFocusGroup");var va=y({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(t,{expose:e,emit:a}){const s=t,n=a,{loop:o,orientation:r,dir:u}=pe(s),p=Ne(u),i=ne(s,"currentTabStopId",n,{defaultValue:s.defaultCurrentTabStopId,passive:s.currentTabStopId===void 0}),g=O(!1),d=O(!1),h=O(0),{getItems:k,CollectionSlot:P}=Ge({isProvider:!0});function $(F){const x=!d.value;if(F.currentTarget&&F.target===F.currentTarget&&x&&!g.value){const T=new CustomEvent(la,ia);if(F.currentTarget.dispatchEvent(T),n("entryFocus",T),!T.defaultPrevented){const B=k().map(M=>M.ref).filter(M=>M.dataset.disabled!==""),K=B.find(M=>M.getAttribute("data-active")===""),re=B.find(M=>M.getAttribute("data-highlighted")===""),le=B.find(M=>M.id===i.value),ie=[K,re,le,...B].filter(Boolean);He(ie,s.preventScrollOnEntryFocus)}}d.value=!1}function S(){setTimeout(()=>{d.value=!1},1)}return e({getItems:k}),ga({loop:o,dir:p,orientation:r,currentTabStopId:i,onItemFocus:F=>{i.value=F},onItemShiftTab:()=>{g.value=!0},onFocusableItemAdd:()=>{h.value++},onFocusableItemRemove:()=>{h.value--}}),(F,x)=>(c(),v(l(P),null,{default:f(()=>[_(l(G),{tabindex:g.value||h.value===0?-1:0,"data-orientation":l(r),as:F.as,"as-child":F.asChild,dir:l(p),style:{outline:"none"},onMousedown:x[0]||(x[0]=T=>d.value=!0),onMouseup:S,onFocus:$,onBlur:x[1]||(x[1]=T=>g.value=!1)},{default:f(()=>[b(F.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),ma=va,ha=y({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){const e=t,a=fa(),s=ta(),n=m(()=>e.tabStopId||s),o=m(()=>a.currentTabStopId.value===n.value),{getItems:r,CollectionItem:u}=Ge();oe(()=>{e.focusable&&a.onFocusableItemAdd()}),Te(()=>{e.focusable&&a.onFocusableItemRemove()});function p(i){if(i.key==="Tab"&&i.shiftKey){a.onItemShiftTab();return}if(i.target!==i.currentTarget)return;const g=da(i,a.orientation.value,a.dir.value);if(g!==void 0){if(i.metaKey||i.ctrlKey||i.altKey||!e.allowShiftKey&&i.shiftKey)return;i.preventDefault();let d=[...r().map(h=>h.ref).filter(h=>h.dataset.disabled!=="")];if(g==="last")d.reverse();else if(g==="prev"||g==="next"){g==="prev"&&d.reverse();const h=d.indexOf(i.currentTarget);d=a.loop.value?pa(d,h+1):d.slice(h+1)}Pe(()=>He(d))}}return(i,g)=>(c(),v(l(u),null,{default:f(()=>[_(l(G),{tabindex:o.value?0:-1,"data-orientation":l(a).orientation.value,"data-active":i.active?"":void 0,"data-disabled":i.focusable?void 0:"",as:i.as,"as-child":i.asChild,onMousedown:g[0]||(g[0]=d=>{i.focusable?l(a).onItemFocus(n.value):d.preventDefault()}),onFocus:g[1]||(g[1]=d=>l(a).onItemFocus(n.value)),onKeydown:p},{default:f(()=>[b(i.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),_a=ha,ya=y({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,a)=>(c(),v(l(G),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:f(()=>[b(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),ba=ya,Ca=y({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,{primitiveElement:a,currentElement:s}=de(),n=m(()=>e.checked??e.value);return ve(n,(o,r)=>{if(!s.value)return;const u=s.value,p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"value").set;if(g&&o!==r){const d=new Event("input",{bubbles:!0}),h=new Event("change",{bubbles:!0});g.call(u,o),u.dispatchEvent(d),u.dispatchEvent(h)}}),(o,r)=>(c(),v(ba,A({ref_key:"primitiveElement",ref:a},{...e,...o.$attrs},{as:"input"}),null,16))}}),xe=Ca,xa=y({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(t){const e=t,a=m(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),s=m(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((n,o)=>typeof n=="object"?Object.entries(n).map(([r,u])=>({name:`${e.name}[${o}][${r}]`,value:u})):{name:`${e.name}[${o}]`,value:n}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([n,o])=>({name:`${e.name}[${n}]`,value:o})):[]);return(n,o)=>(c(),C(E,null,[I(" We render single input if it's required "),a.value?(c(),v(xe,A({key:n.name},{...e,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(c(!0),C(E,{key:1},U(s.value,r=>(c(),v(xe,A({key:r.name},{ref_for:!0},{...e,...n.$attrs},{name:r.name,value:r.value}),null,16,["name","value"]))),128))],2112))}}),Ke=xa;const[Qe,$a]=fe("ToggleGroupRoot");var ka=y({__name:"ToggleGroupRoot",props:{rovingFocus:{type:Boolean,required:!1,default:!0},disabled:{type:Boolean,required:!1,default:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},type:{type:String,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,s=e,{loop:n,rovingFocus:o,disabled:r,dir:u}=pe(a),p=Ne(u),{forwardRef:i,currentElement:g}=he(),{modelValue:d,changeModelValue:h,isSingle:k}=ra(a,s),P=ze(g);return $a({isSingle:k,modelValue:d,changeModelValue:h,dir:p,orientation:a.orientation,loop:n,rovingFocus:o,disabled:r}),($,S)=>(c(),v(we(l(o)?l(ma):l(G)),{"as-child":"",orientation:l(o)?$.orientation:void 0,dir:l(p),loop:l(o)?l(n):void 0},{default:f(()=>[_(l(G),{ref:l(i),role:"group","as-child":$.asChild,as:$.as},{default:f(()=>[b($.$slots,"default",{modelValue:l(d)}),l(P)&&$.name?(c(),v(Ke,{key:0,name:$.name,required:$.required,value:l(d)},null,8,["name","required","value"])):I("v-if",!0)]),_:3},8,["as-child","as"])]),_:3},8,["orientation","dir","loop"]))}}),qa=ka,Ia=y({__name:"Toggle",props:{defaultValue:{type:Boolean,required:!1},modelValue:{type:[Boolean,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(t,{emit:e}){const a=t,s=e,{forwardRef:n,currentElement:o}=he(),r=Qe(null),u=ne(a,"modelValue",s,{defaultValue:a.defaultValue,passive:a.modelValue===void 0});function p(){u.value=!u.value}const i=m(()=>u.value?"on":"off"),g=ze(o);return(d,h)=>(c(),v(l(G),{ref:l(n),type:d.as==="button"?"button":void 0,"as-child":a.asChild,as:d.as,"aria-pressed":l(u),"data-state":i.value,"data-disabled":d.disabled?"":void 0,disabled:d.disabled,onClick:p},{default:f(()=>[b(d.$slots,"default",{modelValue:l(u),disabled:d.disabled,pressed:l(u),state:i.value}),l(g)&&d.name&&!l(r)?(c(),v(Ke,{key:0,type:"checkbox",name:d.name,value:l(u),required:d.required},null,8,["name","value","required"])):I("v-if",!0)]),_:3},8,["type","as-child","as","aria-pressed","data-state","data-disabled","disabled"]))}}),Sa=Ia,Ta=y({__name:"ToggleGroupItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const e=t,a=Qe(),s=m(()=>a.disabled?.value||e.disabled),n=m(()=>Ue(a.modelValue.value,e.value)),{forwardRef:o}=he();return(r,u)=>(c(),v(we(l(a).rovingFocus.value?l(_a):l(G)),A({"as-child":""},l(a).rovingFocus.value?{focusable:!s.value,active:n.value}:{}),{default:f(()=>[_(l(Sa),A(e,{ref:l(o),disabled:s.value,"model-value":n.value,"onUpdate:modelValue":u[0]||(u[0]=p=>l(a).changeModelValue(r.value))}),{default:f(p=>[b(r.$slots,"default",ke(qe(p)))]),_:3},16,["disabled","model-value"])]),_:3},16))}}),Pa=Ta;const wa={base:"animate-pulse rounded-md bg-elevated"},X={__name:"USkeleton",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const e=t,a=Q(),s=m(()=>j({extend:j(wa),...a.ui?.skeleton||{}}));return(n,o)=>(c(),v(l(D),{as:t.as,"aria-busy":"true","aria-label":"loading","aria-live":"polite",role:"alert",class:q(s.value({class:e.class}))},{default:f(()=>[b(n.$slots,"default")]),_:3},8,["as","class"]))}},Ra={name:"TagLoading"},Fa=y({...Ra,setup(t){const e=["w-32","w-36","w-40","w-44","w-60"],a=Ie(),s=ct(`random-${a}`,()=>Math.floor(Math.random()*e.length));return(n,o)=>{const r=X;return c(),v(r,{class:q(["h-6",e[l(s)]])},null,8,["class"])}}}),We=Object.assign(Fa,{__name:"CoreTagLoading"}),Ba={class:"space-y-2"},Ea={class:"flex flex-row flex-wrap gap-2"},Aa={name:"FilterTagsPanelLoading"},Oa=y({...Aa,setup(t){return(e,a)=>{const s=X;return c(),C("div",Ba,[_(s,{class:"h-8 w-48"}),w("div",Ea,[(c(),C(E,null,U(8,n=>_(We,{key:n})),64))])])}}}),La=Object.assign(Oa,{__name:"FilterTagsPanelLoading"}),Da={slots:{root:"flex flex-col lg:grid lg:grid-cols-10 lg:gap-10",left:"lg:col-span-2",center:"lg:col-span-8",right:"lg:col-span-2 order-first lg:order-last"},variants:{left:{true:""},right:{true:""}},compoundVariants:[{left:!0,right:!0,class:{center:"lg:col-span-6"}},{left:!1,right:!1,class:{center:"lg:col-span-10"}}]},Va={__name:"UPage",props:{as:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const e=t,a=J(),s=Q(),n=m(()=>j({extend:j(Da),...s.ui?.page||{}})({left:!!a.left,right:!!a.right}));return(o,r)=>(c(),v(l(D),{as:t.as,class:q(n.value.root({class:[e.ui?.root,e.class]}))},{default:f(()=>[a.left?(c(),v(l(ye),{key:0,class:q(n.value.left({class:e.ui?.left}))},{default:f(()=>[b(o.$slots,"left")]),_:3},8,["class"])):I("",!0),w("div",{class:q(n.value.center({class:e.ui?.center}))},[b(o.$slots,"default")],2),a.right?(c(),v(l(ye),{key:1,class:q(n.value.right({class:e.ui?.right}))},{default:f(()=>[b(o.$slots,"right")]),_:3},8,["class"])):I("",!0)]),_:3},8,["as","class"]))}};function Ye(t){return{scrollToTop:()=>{typeof window<"u"&&window.scrollTo({top:0,left:0,behavior:"smooth",...t})}}}const ja={name:"QueryBadge"},Ua=y({...ja,props:{queryValue:{},icon:{}},emits:["clear"],setup(t,{emit:e}){const a=t,s=e,n=m(()=>a.queryValue.length>50?`${a.queryValue.slice(0,50)}...`:a.queryValue);return(o,r)=>{const u=V;return c(),v(u,{label:l(n),title:a.queryValue,"leading-icon":a.icon,color:"neutral",variant:"subtle","trailing-icon":"lucide:x","aria-label":a.queryValue,"aria-roledescription":"Click to clear the current search query",size:"sm",onClick:r[0]||(r[0]=se(p=>s("clear"),["prevent"]))},null,8,["label","title","leading-icon","aria-label"])}}}),Ma=Object.assign(Ua,{__name:"QueryBadge"}),Na={base:"relative",variants:{size:{xs:"",sm:"",md:"",lg:"",xl:""},orientation:{horizontal:"inline-flex -space-x-px",vertical:"flex flex-col -space-y-px"}}},Je={__name:"UFieldGroup",props:{as:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const e=t,a=Q(),s=m(()=>j({extend:j(Na),...a.ui?.fieldGroup||{}}));return Se(dt,m(()=>({orientation:e.orientation,size:e.size}))),(n,o)=>(c(),v(l(D),{as:t.as,"data-orientation":t.orientation,class:q(s.value({orientation:t.orientation,class:e.class}))},{default:f(()=>[b(n.$slots,"default")]),_:3},8,["as","data-orientation","class"]))}},za={name:"SortButton"},Ga=y({...za,props:{value:{default:"relevance"},disabled:{type:Boolean,default:!1}},emits:["update:value"],setup(t,{emit:e}){const a=t,s=e,n=[{label:"Relevance",value:"relevance"},{label:"Name",value:"name"},{label:"Date",value:"date"}];function o(r){const u=r;a.value!==u&&s("update:value",u)}return(r,u)=>{const p=V,i=Je;return c(),v(l(qa),{"model-value":a.value,disabled:a.disabled,"as-child":"","aria-label":"Sort type","onUpdate:modelValue":o},{default:f(()=>[_(i,null,{default:f(()=>[(c(),C(E,null,U(n,g=>_(l(Pa),{key:g.value,value:g.value,"as-child":""},{default:f(()=>[_(p,{label:g.label,ui:{base:"cursor-pointer data-[state=on]:bg-primary/75 data-disabled:bg-primary data-disabled:cursor-not-allowed"}},null,8,["label"])]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["model-value","disabled"])}}}),Ha=Object.assign(Ga,{__name:"SortButton"}),Ka={name:"TagButton"},Qa=y({...Ka,props:{tag:{},shouldScrollToTop:{type:Boolean},action:{},class:{}},setup(t){const e=t,a=5,s=Oe(),{scrollToTop:n}=Ye({behavior:"instant"});function o(u){const p=s.fieldFilters.find(i=>i.key==="tags")?.value||[];p.length<a&&!p.includes(u)&&s.set({filters:[...s.fieldFilters.filter(i=>i.key!=="tags"),{key:"tags",value:[...p,u]}]}),e.shouldScrollToTop&&n()}function r(u){const p=s.fieldFilters.find(i=>i.key==="tags")?.value||[];p.includes(u)&&s.set({filters:[...s.fieldFilters.filter(i=>i.key!=="tags"),{key:"tags",value:p.filter(i=>i!==u)}]}),e.shouldScrollToTop&&n()}return(u,p)=>{const i=Re,g=V,d=Je;return c(),v(d,{size:"xs",class:"max-w-full"},{default:f(()=>[_(i,{size:"md",color:"neutral",variant:"outline",label:e.tag,title:e.tag,"aria-label":`Tag: ${e.tag}`,ui:{base:"flex-1 min-w-0",label:"truncate"}},null,8,["label","title","aria-label"]),e.action==="add"?(c(),v(g,{key:0,color:"neutral",variant:"subtle",icon:"lucide:plus",class:"cursor-pointer shrink-0","aria-label":`Add tag '${e.tag}' to search`,title:`Add tag '${e.tag}' to search`,onClick:p[0]||(p[0]=se(h=>o(e.tag),["prevent"]))},null,8,["aria-label","title"])):e.action==="remove"?(c(),v(g,{key:1,color:"neutral",variant:"subtle",class:"cursor-pointer",icon:"lucide:x",truncate:"","aria-label":`Remove tag '${e.tag}' to search`,title:`Remove tag '${e.tag}' to search`,onClick:p[1]||(p[1]=se(h=>r(e.tag),["prevent"]))},null,8,["aria-label","title"])):I("",!0)]),_:1})}}}),_e=Object.assign(Qa,{__name:"TagButton"}),Wa={key:0},Ya={class:"flex flex-row flex-wrap gap-2"},Ja={name:"FilterTagsActive"},Xa=y({...Ja,props:{tags:{}},emits:["clear"],setup(t,{emit:e}){const a=t,s=e,n=5;return(o,r)=>{const u=_e,p=V;return a.tags.length>0?(c(),C("div",Wa,[w("small",{class:q({"text-error":a.tags.length>=n})},L(a.tags.length)+" / "+L(n)+" tags selected ",3),w("div",Ya,[(c(!0),C(E,null,U(a.tags,i=>(c(),v(u,{key:i,tag:i,action:"remove"},null,8,["tag"]))),128)),_(p,{size:"xs",label:"Clear all tags",variant:"ghost",onClick:r[0]||(r[0]=i=>s("clear"))})])])):I("",!0)}}}),Za=Object.assign(Xa,{__name:"FilterTagsActive"}),es={class:"space-y-2"},ts={class:"flex flex-row flex-wrap gap-2"},as={name:"FilterTagsPanel"},ss=y({...as,props:{options:{}},setup(t){const e=t;return(a,s)=>{const n=De,o=_e;return c(),C("div",es,[_(n,null,{default:f(()=>[...s[0]||(s[0]=[R(" Common Tags ",-1)])]),_:1}),w("div",ts,[(c(!0),C(E,null,U(e.options,r=>(c(),v(o,{key:r,tag:r,action:"add"},null,8,["tag"]))),128))])])}}}),ns=Object.assign(ss,{__name:"FilterTagsPanel"}),os={class:"flex flex-col flex-1 divide-y divide-muted",role:"list"},rs={name:"FilterTopicsPanel"},ls=y({...rs,props:{isLoading:{type:Boolean}},setup(t){const e=t,{searchByTopic:a}=Pt(),n=pt(gt).smaller("lg"),o=O(!1),r=m(()=>n.value?o.value:!0);return(u,p)=>{const i=X,g=De,d=V,h=ft,k=Fe,P=Ve,$=Ae;return c(),v($,{"data-state":l(r)?"open":"closed"},{default:f(()=>[e.isLoading?(c(),v(i,{key:0,class:"w-full h-100 data-[state=closed]:h-20"})):(c(),v(P,{key:1,variant:"subtle","data-state":l(r)?"open":"closed",ui:{root:"group data-[state=closed]:divide-none",header:"bg-muted flex flex-row items-center justify-between",body:"bg-default sm:p-0 p-0"}},{header:f(()=>[w("div",null,[_(g,{class:"m-0"},{default:f(()=>[...p[1]||(p[1]=[R(" Popular Topics ",-1)])]),_:1}),p[2]||(p[2]=w("small",null," Click on a topic to perform a search ",-1))]),l(n)?(c(),v(d,{key:0,color:"neutral",variant:"subtle","trailing-icon":"i-lucide-chevron-down",ui:{trailingIcon:"group-data-[state=open]:rotate-180 transition-transform duration-200"},onClick:p[0]||(p[0]=S=>o.value=!o.value)})):I("",!0)]),default:f(()=>[_(k,{open:l(r)},{content:f(()=>[w("div",os,[(c(!0),C(E,null,U(Object.entries(l(wt)),S=>(c(),v(d,{key:S[0],label:S[0],role:"listitem",variant:"ghost",color:"neutral",ui:{base:"hover:bg-muted hover:cursor-pointer rounded-none px-4 py-2",label:"",leadingIcon:"aria-hidden"},onClick:se(F=>l(a)(S[0]),["prevent"])},{leading:f(()=>[_(h,{src:S[1].icon,"aria-hidden":"true",class:"size-6"},null,8,["src"])]),_:2},1032,["label","onClick"]))),128))])]),_:1},8,["open"])]),_:1},8,["data-state"]))]),_:1},8,["data-state"])}}}),is=Object.assign(ls,{__name:"FilterTopicsPanel"}),us=["innerHTML"],$e=300,cs=10,ds=y({__name:"result-description",props:{description:{},size:{default:"md"}},setup(t){const e=t,a=O(!1),s=()=>a.value=!a.value,n=m(()=>e.description.replaceAll(`
`,"<br/>")),o=m(()=>{if(e.description.length<=$e)return{needsTruncation:!1,preview:e.description};const i=e.description.indexOf(" ",$e-cs);if(i===-1){const g=e.description.lastIndexOf(" ");return{needsTruncation:!0,preview:e.description.substring(0,g>0?g:e.description.length)}}return{needsTruncation:!0,preview:e.description.substring(0,i)}}),r=m(()=>!o.value.needsTruncation||a.value?n.value:o.value.preview.replaceAll(`
`,"<br/>")),u=m(()=>o.value.needsTruncation&&!a.value),p=m(()=>o.value.needsTruncation&&a.value);return(i,g)=>{const d=Be;return c(),C("div",{class:q(e.size==="sm"?"text-sm":"text-base")},[w("div",{class:q(["description-text",{"is-read-more":l(u)}]),innerHTML:l(r)},null,10,us),l(u)||l(p)?(c(),v(d,{key:0,class:"text-primary hover:cursor-pointer hover:text-primary/75",onClick:s},{default:f(()=>[R(L(l(u)?"Read More":"Read Less"),1)]),_:1})):I("",!0)],2)}}}),Xe=Object.assign(ds,{__name:"CoreResultDescription"}),ps={slots:{root:"relative flex rounded-lg",spotlight:"absolute inset-0 rounded-[inherit] pointer-events-none bg-default/90",container:"relative flex flex-col flex-1 lg:grid gap-x-8 gap-y-4 p-4 sm:p-6",wrapper:"flex flex-col flex-1 items-start",header:"mb-4",body:"flex-1",footer:"pt-4 mt-auto",leading:"inline-flex items-center mb-2.5",leadingIcon:"size-5 shrink-0 text-primary",title:"text-base text-pretty font-semibold text-highlighted",description:"text-[15px] text-pretty"},variants:{orientation:{horizontal:{container:"lg:grid-cols-2 lg:items-center"},vertical:{container:""}},reverse:{true:{wrapper:"lg:order-last"}},variant:{solid:{root:"bg-inverted text-inverted",title:"text-inverted",description:"text-dimmed"},outline:{root:"bg-default ring ring-default",description:"text-muted"},soft:{root:"bg-elevated/50",description:"text-toned"},subtle:{root:"bg-elevated/50 ring ring-default",description:"text-toned"},ghost:{description:"text-muted"},naked:{container:"p-0 sm:p-0",description:"text-muted"}},to:{true:{root:["transition"]}},title:{true:{description:"mt-1"}},highlight:{true:{root:"ring-2"}},highlightColor:{primary:"",secondary:"",info:"",success:"",warning:"",error:"",dot:"",neutral:""},spotlight:{true:{root:"[--spotlight-size:400px] before:absolute before:-inset-px before:pointer-events-none before:rounded-[inherit] before:bg-[radial-gradient(var(--spotlight-size)_var(--spotlight-size)_at_calc(var(--spotlight-x,0px))_calc(var(--spotlight-y,0px)),var(--spotlight-color),transparent_70%)]"}},spotlightColor:{primary:"",secondary:"",info:"",success:"",warning:"",error:"",dot:"",neutral:""}},compoundVariants:[{variant:"solid",to:!0,class:{root:"hover:bg-inverted/90"}},{variant:"outline",to:!0,class:{root:"hover:bg-elevated/50"}},{variant:"soft",to:!0,class:{root:"hover:bg-elevated"}},{variant:"subtle",to:!0,class:{root:"hover:bg-elevated"}},{variant:"subtle",to:!0,highlight:!1,class:{root:"hover:ring-accented"}},{variant:"ghost",to:!0,class:{root:"hover:bg-elevated/50"}},{highlightColor:"primary",highlight:!0,class:{root:"ring-primary"}},{highlightColor:"secondary",highlight:!0,class:{root:"ring-secondary"}},{highlightColor:"info",highlight:!0,class:{root:"ring-info"}},{highlightColor:"success",highlight:!0,class:{root:"ring-success"}},{highlightColor:"warning",highlight:!0,class:{root:"ring-warning"}},{highlightColor:"error",highlight:!0,class:{root:"ring-error"}},{highlightColor:"dot",highlight:!0,class:{root:"ring-dot"}},{highlightColor:"neutral",highlight:!0,class:{root:"ring-inverted"}},{spotlightColor:"primary",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-primary)]"}},{spotlightColor:"secondary",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-secondary)]"}},{spotlightColor:"info",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-info)]"}},{spotlightColor:"success",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-success)]"}},{spotlightColor:"warning",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-warning)]"}},{spotlightColor:"error",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-error)]"}},{spotlightColor:"dot",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-dot)]"}},{spotlightColor:"neutral",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-bg-inverted)]"}},{to:!0,class:{root:"has-focus-visible:ring-2 has-focus-visible:ring-primary"}}],defaultVariants:{variant:"outline",highlightColor:"primary",spotlightColor:"primary"}},Ze=Object.assign({inheritAttrs:!1},{__name:"UPageCard",props:{as:{type:null,required:!1},icon:{type:[String,Object],required:!1},title:{type:String,required:!1},description:{type:String,required:!1},orientation:{type:null,required:!1,default:"vertical"},reverse:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},spotlight:{type:Boolean,required:!1},spotlightColor:{type:null,required:!1},variant:{type:null,required:!1},to:{type:null,required:!1},target:{type:[String,Object,null],required:!1},onClick:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(t){const e=t,a=J(),s=O(),n=vt(),o=Q(),{elementX:r,elementY:u}=mt(s,{eventFilter:n.eventFilter}),p=m(()=>e.spotlight&&(r.value!==0||u.value!==0));ve(()=>e.spotlight,d=>{d?n.resume():n.pause()},{immediate:!0});const i=m(()=>j({extend:j(ps),...o.ui?.pageCard||{}})({orientation:e.orientation,reverse:e.reverse,variant:e.variant,to:!!e.to||!!e.onClick,title:!!e.title||!!a.title,highlight:e.highlight,highlightColor:e.highlightColor,spotlight:p.value,spotlightColor:e.spotlightColor})),g=m(()=>(a.title&&ht(a.title())||e.title||"Card link").trim());return(d,h)=>(c(),v(l(D),{ref_key:"cardRef",ref:s,as:t.as,"data-orientation":t.orientation,class:q(i.value.root({class:[e.ui?.root,e.class]})),style:yt(p.value&&{"--spotlight-x":`${l(r)}px`,"--spotlight-y":`${l(u)}px`}),onClick:t.onClick},{default:f(()=>[e.spotlight?(c(),C("div",{key:0,class:q(i.value.spotlight({class:e.ui?.spotlight}))},null,2)):I("",!0),w("div",{class:q(i.value.container({class:e.ui?.container}))},[a.header||t.icon||a.leading||a.body||t.title||a.title||t.description||a.description||a.footer?(c(),C("div",{key:0,class:q(i.value.wrapper({class:e.ui?.wrapper}))},[a.header?(c(),C("div",{key:0,class:q(i.value.header({class:e.ui?.header}))},[b(d.$slots,"header")],2)):I("",!0),t.icon||a.leading?(c(),C("div",{key:1,class:q(i.value.leading({class:e.ui?.leading}))},[b(d.$slots,"leading",{ui:i.value},()=>[t.icon?(c(),v(_t,{key:0,name:t.icon,class:q(i.value.leadingIcon({class:e.ui?.leadingIcon}))},null,8,["name","class"])):I("",!0)])],2)):I("",!0),a.body||t.title||a.title||t.description||a.description?(c(),C("div",{key:2,class:q(i.value.body({class:e.ui?.body}))},[b(d.$slots,"body",{},()=>[t.title||a.title?(c(),C("div",{key:0,class:q(i.value.title({class:e.ui?.title}))},[b(d.$slots,"title",{},()=>[R(L(t.title),1)])],2)):I("",!0),t.description||a.description?(c(),C("div",{key:1,class:q(i.value.description({class:e.ui?.description}))},[b(d.$slots,"description",{},()=>[R(L(t.description),1)])],2)):I("",!0)])],2)):I("",!0),a.footer?(c(),C("div",{key:3,class:q(i.value.footer({class:e.ui?.footer}))},[b(d.$slots,"footer")],2)):I("",!0)],2)):I("",!0),b(d.$slots,"default")],2),t.to?(c(),v(Be,A({key:1,"aria-label":g.value},{to:t.to,target:t.target,...d.$attrs},{class:"focus:outline-none peer",raw:""}),{default:f(()=>[...h[0]||(h[0]=[w("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)])]),_:1},16,["aria-label"])):I("",!0)]),_:3},8,["as","data-orientation","class","style","onClick"]))}}),fs=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit",timeZone:"UTC"});function gs(t){return fs.format(t)}const vs={name:"DateBadge"},ms=y({...vs,props:{tooltip:{default:"Date"},date:{}},setup(t){const e=t,a=m(()=>gs(e.date));return(s,n)=>{const o=Re,r=bt;return c(),v(r,{text:e.tooltip},{default:f(()=>[_(o,{"leading-icon":"lucide:calendar-days",variant:"subtle",color:"neutral",label:l(a)},null,8,["label"])]),_:1},8,["text"])}}}),hs=Object.assign(ms,{__name:"CoreDateBadge"}),_s={class:"space-y-4 mt-2 p-1"},ys={class:"text-md font-semibold text-primary hover:text-primary hover:underline hover:underline-offset-4 hover:cursor-pointer"},bs={name:"DatasetCardAssociated"},Cs=y({...bs,props:{associatedDatasets:{}},setup(t){const e=t,{data:a}=Ct(je.key),s=m(()=>e.associatedDatasets==null||e.associatedDatasets.length===0?[]:a.value===void 0?[]:a.value.data.filter(n=>e.associatedDatasets?.includes(n.id)));return(n,o)=>{const r=V,u=Le,p=Xe,i=Ve,g=Fe;return l(s)&&l(s).length>0?(c(),v(g,{key:0,ui:{root:"w-full"}},{default:f(()=>[_(r,{class:"group",variant:"subtle",color:"neutral","trailing-icon":"i-lucide-chevron-down",ui:{trailingIcon:"group-data-[state=open]:rotate-180 transition-transform duration-200"},block:""},{default:f(()=>[R(" Associated Datasets ("+L(l(s).length)+") ",1)]),_:1})]),content:f(()=>[w("div",_s,[(c(!0),C(E,null,U(l(s),d=>(c(),v(i,{key:d.id,color:"neutral",variant:"subtle",ui:{header:"pt-4 pb-0 sm:px-4",body:"p-4 sm:p-4",root:"divide-none"}},{header:f(()=>[_(u,{url:d.url},{default:f(()=>[w("a",ys,L(d.name),1)]),_:2},1032,["url"])]),default:f(()=>[_(p,{description:d.description,size:"sm"},null,8,["description"])]),_:2},1024))),128))])]),_:1})):I("",!0)}}}),xs=Object.assign(Cs,{__name:"DatasetCardAssociated"}),$s={name:"DatasetCardSample"},ks=y({...$s,props:{isSample:{type:Boolean,default:!1}},setup(t){const e=t;return(a,s)=>{const n=Bt,o=me;return e.isSample?(c(),v(o,{key:0,color:"neutral",variant:"subtle",icon:"lucide:lock-keyhole"},{title:f(()=>[s[1]||(s[1]=R(" To access the full dataset, please complete the ",-1)),_(n,{to:"data-request"},{default:f(()=>[...s[0]||(s[0]=[R(" Data Request Form ",-1)])]),_:1}),s[2]||(s[2]=R(". ",-1))]),_:1})):I("",!0)}}}),qs=Object.assign(ks,{__name:"DatasetCardSample"}),Is={class:"flex flex-row flex-wrap gap-2"},Ss={name:"DatasetCardTags"},Ts=y({...Ss,props:{tags:{}},setup(t){const e=t;return(a,s)=>(c(),C("div",Is,[(c(!0),C(E,null,U(e.tags,n=>(c(),v(_e,{key:n,tag:n,"should-scroll-to-top":!0,action:"add"},null,8,["tag"]))),128))]))}}),Ps=Object.assign(Ts,{__name:"DatasetCardTags"}),ws={class:"flex flex-col-reverse lg:flex-row gap-2 lg:gap-8 justify-between items-start"},Rs={class:"*:leading-tight text-primary hover:text-primary hover:cursor-pointer"},Fs={class:"text-sm"},Bs={class:"text-lg hover:underline font-semibold hover:underline-offset-4"},Es={class:"shrink-0"},As={name:"DatasetCard"},Os=y({...As,props:{dataset:{}},setup(t){const e=t;return(a,s)=>{const n=Le,o=Xe,r=Ze;return c(),v(r,{variant:"outline",ui:{container:"max-w-full",body:"flex flex-col gap-4 w-full",footer:"w-full space-y-4",header:"w-full"}},{header:f(()=>[w("div",ws,[_(n,{url:e.dataset.url},{default:f(()=>[w("div",Rs,[w("p",Fs,L(e.dataset.project),1),w("h3",Bs,L(e.dataset.name),1)])]),_:1},8,["url"]),w("div",Es,[_(hs,{date:e.dataset.date,tooltip:"Date Added"},null,8,["date"])])])]),body:f(()=>[_(o,{description:e.dataset.description},null,8,["description"]),e.dataset.tags&&e.dataset.tags.length>0?(c(),v(Ps,{key:0,tags:e.dataset.tags},null,8,["tags"])):I("",!0)]),footer:f(()=>[_(qs,{"is-sample":e.dataset.isSample},null,8,["is-sample"]),_(xs,{"associated-datasets":e.dataset.associatedDatasets},null,8,["associated-datasets"])]),_:1})}}}),Ls=Object.assign(Os,{__name:"DatasetCard"}),Ds={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Vs={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(t,{emit:e}){const a=t,s=e,n=J(),{dir:o}=xt(),r=Q(),u=$t(kt(a,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),s),p=m(()=>a.firstIcon||(o.value==="rtl"?r.ui.icons.chevronDoubleRight:r.ui.icons.chevronDoubleLeft)),i=m(()=>a.prevIcon||(o.value==="rtl"?r.ui.icons.chevronRight:r.ui.icons.chevronLeft)),g=m(()=>a.nextIcon||(o.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight)),d=m(()=>a.lastIcon||(o.value==="rtl"?r.ui.icons.chevronDoubleLeft:r.ui.icons.chevronDoubleRight)),h=m(()=>j({extend:j(Ds),...r.ui?.pagination||{}})());return(k,P)=>(c(),v(l(Dt),A(l(u),{class:h.value.root({class:[a.ui?.root,a.class]})}),{default:f(({page:$,pageCount:S})=>[_(l(Ht),{class:q(h.value.list({class:a.ui?.list}))},{default:f(({items:F})=>[t.showControls||n.first?(c(),v(l(jt),{key:0,"as-child":"",class:q(h.value.first({class:a.ui?.first}))},{default:f(()=>[b(k.$slots,"first",{},()=>[_(V,{color:t.color,variant:t.variant,size:t.size,icon:p.value,to:t.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):I("",!0),t.showControls||n.prev?(c(),v(l(Xt),{key:1,"as-child":"",class:q(h.value.prev({class:a.ui?.prev}))},{default:f(()=>[b(k.$slots,"prev",{},()=>[_(V,{color:t.color,variant:t.variant,size:t.size,icon:i.value,to:$>1?t.to?.($-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):I("",!0),(c(!0),C(E,null,U(F,(x,T)=>(c(),C(E,{key:T},[x.type==="page"?(c(),v(l(Qt),{key:0,"as-child":"",value:x.value,class:q(h.value.item({class:a.ui?.item}))},{default:f(()=>[b(k.$slots,"item",A({ref_for:!0},{item:x,index:T,page:$,pageCount:S}),()=>[_(V,{color:$===x.value?t.activeColor:t.color,variant:$===x.value?t.activeVariant:t.variant,size:t.size,label:String(x.value),ui:{label:h.value.label()},to:t.to?.(x.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(c(),v(l(At),{key:1,"as-child":"",class:q(h.value.ellipsis({class:a.ui?.ellipsis}))},{default:f(()=>[b(k.$slots,"ellipsis",{ui:h.value},()=>[_(V,{as:"div",color:t.color,variant:t.variant,size:t.size,icon:t.ellipsisIcon||l(r).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["class"]))],64))),128)),t.showControls||n.next?(c(),v(l(Yt),{key:2,"as-child":"",class:q(h.value.next({class:a.ui?.next}))},{default:f(()=>[b(k.$slots,"next",{},()=>[_(V,{color:t.color,variant:t.variant,size:t.size,icon:g.value,to:$<S?t.to?.($+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):I("",!0),t.showControls||n.last?(c(),v(l(Mt),{key:3,"as-child":"",class:q(h.value.last({class:a.ui?.last}))},{default:f(()=>[b(k.$slots,"last",{},()=>[_(V,{color:t.color,variant:t.variant,size:t.size,icon:d.value,to:t.to?.(S)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):I("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}},js={name:"ResultListEmpty"},Us=y({...js,props:{emptyMessage:{}},setup(t){const e=t;return(a,s)=>{const n=me;return c(),v(n,{color:"neutral",variant:"subtle"},Ee({title:f(()=>[s[0]||(s[0]=R(" No results found ",-1))]),_:2},[e.emptyMessage?{name:"description",fn:f(()=>[R(L(e.emptyMessage),1)]),key:"0"}:{name:"description",fn:f(()=>[s[1]||(s[1]=R(" Try adjusting your search criteria or clearing your search filters. ",-1))]),key:"1"}]),1024)}}}),Ms=Object.assign(Us,{__name:"ResultListEmpty"}),Ns={name:"ResultListError"},zs=y({...Ns,props:{error:{}},setup(t){const e=t;return(a,s)=>{const n=me;return c(),v(n,{color:"error",variant:"subtle"},Ee({title:f(()=>[s[0]||(s[0]=R(" Error loading results ",-1))]),_:2},[e.error?{name:"description",fn:f(()=>[R(L(e.error),1)]),key:"0"}:{name:"description",fn:f(()=>[s[1]||(s[1]=R(" The website has encountered an error while attempting to load results. This may be due to an API limit being reached. Please contact a site administrator or try again later. ",-1))]),key:"1"}]),1024)}}}),Gs=Object.assign(zs,{__name:"ResultListError"}),Hs={base:"relative flex flex-col",variants:{divide:{true:"*:not-last:after:absolute *:not-last:after:inset-x-1 *:not-last:after:bottom-0 *:not-last:after:bg-border *:not-last:after:h-px"}}},et={__name:"UPageList",props:{as:{type:null,required:!1},divide:{type:Boolean,required:!1,default:!1},class:{type:null,required:!1}},setup(t){const e=t,a=Q(),s=m(()=>j({extend:j(Hs),...a.ui?.pageList||{}}));return(n,o)=>(c(),v(l(D),{as:t.as,role:"list",class:q(s.value({class:e.class,divide:e.divide}))},{default:f(()=>[b(n.$slots,"default")]),_:3},8,["as","class"]))}},Ks={name:"ResultListLoading"},Qs=y({...Ks,setup(t){const e=J(),a=H("#search/components/result-list-loading");return oe(()=>{e.default||a.warn("ResultListLoading component has no default slot provided. No loading placeholder will be shown.")}),(s,n)=>{const o=et;return c(),v(o,{class:"gap-4"},{default:f(()=>[(c(),C(E,null,U(5,r=>b(s.$slots,"default",{key:r})),64))]),_:3})}}}),Ws=Object.assign(Qs,{__name:"ResultListLoading"}),Ys={name:"ResultList"},Js=y({...Ys,props:{items:{}},setup(t){const e=t,a=J(),s=H("#search/components/result-list");return oe(()=>{a.item||s.error("ResultList component requires an item slot to render results.")}),(n,o)=>{const r=et;return c(),v(r,{class:"gap-4"},{default:f(()=>[(c(!0),C(E,null,U(e.items,u=>b(n.$slots,"item",{key:u.id,item:u})),128))]),_:3})}}}),Xs=Object.assign(Js,{__name:"ResultList"}),Zs={class:"flex flex-row flex-wrap gap-2"},en={name:"DatasetCardLoading"},tn=y({...en,setup(t){return(e,a)=>{const s=X,n=Ze;return c(),v(n,{ui:{header:"w-full flex justify-between",body:"w-full flex flex-col gap-4"}},{header:f(()=>[_(s,{class:"w-1/3 h-12"}),_(s,{class:"w-1/6 h-8"})]),body:f(()=>[_(s,{class:"w-full h-24"}),w("div",Zs,[(c(),C(E,null,U(3,o=>_(We,{key:o})),64))])]),_:1})}}}),an=Object.assign(tn,{__name:"DatasetCardLoading"}),sn={class:"py-8"},nn={key:3,class:"space-y-8"},on={name:"SearchResults"},rn=y({...on,props:{items:{},pagination:{},status:{},error:{}},emits:["update:page"],setup(t,{emit:e}){const a=t,s=e,{currentPage:n,pageSize:o,totalItems:r}=a.pagination;return(u,p)=>{const i=Ls,g=Vs;return c(),C("div",sn,[a.status==="pending"?(c(),v(Ws,{key:0},{default:f(()=>[_(an)]),_:1})):a.error?(c(),v(Gs,{key:1})):a.items==null||a.items.length===0?(c(),v(Ms,{key:2})):(c(),C("div",nn,[_(Xs,{items:a.items},{item:f(({item:d})=>[_(i,{dataset:d.original},null,8,["dataset"])]),_:1},8,["items"]),_(g,{page:l(n),"items-per-page":l(o),total:l(r),"onUpdate:page":p[0]||(p[0]=d=>s("update:page",d))},null,8,["page","items-per-page","total"])]))])}}}),ln=Object.assign(rn,{__name:"SearchResults"});function un(t,e){const a=Z(t,e,{threshold:ee.ACRONYM,accessors:[u=>u.name]}),s=Z(t,e,{threshold:ee.EQUAL,accessors:[u=>u.project??""]}),n=Z(t,e,{threshold:ee.CONTAINS,accessors:[u=>u.topics??""]}),o=Z(t,e,{threshold:ee.CONTAINS,accessors:[{accessor:u=>u.description??"",maxRanking:3}]}),r=[a,s,n,o].toSorted((u,p)=>p.rank-u.rank)[0];return r.passed?r.rank:null}function cn(t,e){const{filterFields:a,searchTerm:s}=e,n=H("#search/composables/data-list/use-faceted-values"),o=ue({}),r=ue(void 0),u=ue(0);return{facetedValues:m(()=>{const i=s.value,g=t.value.length;if(i===r.value&&g===u.value&&Object.keys(o.value).length>0)return o.value;const d={};for(const h of a){const k=String(h.accessorKey),P=new Map;for(const $ of t.value){const S=$.original[h.accessorKey];if(S!=null)if(Array.isArray(S))for(const F of S){const x=P.get(String(F))??0;P.set(String(F),x+1)}else{const F=P.get(String(S))??0;P.set(String(S),F+1)}}d[k]=P}return n.debug("Computed faceted values:",d),r.value=i,u.value=g,o.value=d,d})}}function dn(t,e){const{filterState:a,filterFields:s}=e,n=H("#search/composables/data-list/use-filtered-list");return{filteredItems:m(()=>{const r=a.value;if(n.debug("Applying field filters:",r),r.length===0)return t.value;let u=t.value;for(const p of r){if(p.value.length===0)continue;const i=s.find(g=>g.accessorKey===p.key);i&&(u=u.filter(g=>i.filterFn(g.original,p.value)))}return u})}}function pn(t,e){const{currentPage:a,pageSize:s=25}=e,n=H("#search/composables/data-list/use-paginated-list"),o=m(()=>t.value.length),r=m(()=>Math.ceil(o.value/s));return{paginatedItems:m(()=>{const p=(a.value-1)*s,i=p+s;return n.debug(`Paginating: page ${a.value}, items ${p}-${i} of ${o.value}`),t.value.slice(p,i)}),pagination:{currentPage:a,totalPages:r,totalItems:o,pageSize:s}}}function fn(t,e){const{searchTerm:a,searchFn:s,getItemId:n}=e,o=H("#search/composables/data-list/use-searched-list");return{searchedItems:m(()=>{const u=a.value?.trim();if(o.debug("Computing search results for term:",u),u==null)return t.value.map(i=>({original:i,rank:0,id:n(i)}));const p=[];for(const i of t.value){const g=s(i,u);g!==null&&p.push({original:i,rank:g,id:n(i)})}return p.sort((i,g)=>g.rank-i.rank)})}}function gn(t,e){const{sortState:a,sorts:s}=e,n=H("#search/composables/data-list/use-sorted-list");return{sortedItems:m(()=>{n.debug("Applying sort state:",a.value);const r=a.value;if(r===null)return t.value;const u=s.find(i=>i.key===r.key);return u===void 0?t.value:t.value.toSorted((i,g)=>{const d=u.sortFn(i,g);return r.direction==="asc"?-d:d})})}}function vn(t,e){const{getItemId:a,searchOptions:{searchFn:s,searchTerm:n},filterOptions:{filterState:o,filterFields:r},sortOptions:{sortState:u,sorts:p},paginationOptions:{currentPage:i,pageSize:g}}=e,{searchedItems:d}=fn(t,{searchTerm:n,searchFn:s,getItemId:a}),{facetedValues:h}=cn(d,{filterFields:r,searchTerm:n}),{filteredItems:k}=dn(d,{filterState:o,filterFields:r}),{sortedItems:P}=gn(k,{sortState:u,sorts:p}),{paginatedItems:$,pagination:S}=pn(P,{currentPage:i,pageSize:g});return{searchedItems:d,facetedValues:h,filteredItems:k,sortedItems:P,paginatedItems:$,items:$,pagination:S}}function mn(t,e){return e.rank-t.rank}function hn(t,e){return t.original.name.localeCompare(e.original.name)}function _n(t,e){return e.original.date.getTime()-t.original.date.getTime()}const yn={class:"flex flex-col gap-8 pb-8"},bn={key:0,class:"flex flex-col md:flex-row gap-2 md:gap-8 items-start md:justify-between"},Cn={class:"grow"},xn={class:"inline"},$n={key:0},kn={class:"leading-none"},qn={key:0},In={key:1},Sn={class:"shrink-0"},Hn=y({__name:"search",setup(t){qt({title:"Search",ogTitle:"Search for datasets on ITS DataHub",description:"Discover datasets generated by Intelligent Transportation Systems (ITS) Joint Program Office (JPO) funded projects.",ogDescription:"Discover datasets generated by Intelligent Transportation Systems (ITS) Joint Program Office (JPO) funded projects.",ogUrl:`https://its.dot.gov/data${It().fullPath}`,twitterTitle:"Search for datasets on ITS DataHub"});const{scrollToTop:e}=Ye({behavior:"instant"}),a=Rt(),s=Oe(),{state:n}=St(je),o=O(1),r=O("relevance"),u=O({key:"relevance",direction:"desc"});function p(x){r.value=x;const T={relevance:{key:"relevance",direction:"desc"},name:{key:"name",direction:"desc"},date:{key:"date",direction:"desc"}};u.value=T[x]}function i(x,T){return T.every(B=>x.includes(B))}const{searchedItems:g,filteredItems:d,paginatedItems:h,pagination:k,facetedValues:P}=vn(m(()=>n.value.data?.data??[]),{getItemId:x=>x.id,searchOptions:{searchTerm:m(()=>a.searchQuery.searchTerm),searchFn:un},filterOptions:{filterState:m(()=>s.fieldFilters),filterFields:[{accessorKey:"tags",filterFn:(x,T)=>i(x.tags||[],T)}]},sortOptions:{sortState:u,sorts:[{key:"relevance",sortFn:mn},{key:"name",sortFn:hn},{key:"date",sortFn:_n}]},paginationOptions:{currentPage:o,pageSize:25}}),$=m(()=>{const x=P.value.tags;if(!x)return[];const T=s.fieldFilters.find(B=>B.key==="tags")?.value||[];return Array.from(x.entries()).filter(([B])=>T.length===0||T.includes(B)===!1).sort((B,K)=>K[1]-B[1]).slice(0,10).map(([B])=>B)}),S=m(()=>s.fieldFilters.find(x=>x.key==="tags")?.value||[]);function F(x,T=!0){T&&e(),Pe(()=>{o.value=x})}return oe(()=>{e()}),Te(()=>{a.clear(),s.reset()}),(x,T)=>{const B=La,K=X,re=Va,le=Tt,ie=Ae;return c(),v(ie,null,{default:f(()=>[_(Ft),_(le,{class:"pt-8"},{default:f(()=>[_(re,{ui:{root:"pb-16",left:"lg:col-span-3",center:"lg:col-span-7"}},{left:f(()=>[w("aside",yn,[_(is,{"is-loading":l(n).status==="pending"},null,8,["is-loading"]),l(n).status==="pending"?(c(),v(B,{key:0})):(c(),v(ns,{key:1,options:l($)},null,8,["options"]))])]),default:f(()=>[l(n).error?I("",!0):(c(),C("div",bn,[w("div",Cn,[l(n).status==="pending"?(c(),v(K,{key:0,class:"h-6 w-32"})):(c(),C(E,{key:1},[w("div",xn,[R(L(l(g).length)+" result(s) ",1),l(a).searchQuery.searchTerm?(c(),C("span",$n,[T[2]||(T[2]=R(" for ",-1)),_(Ma,{"query-value":l(a).searchQuery.searchTerm,icon:l(a).searchQuery.selected===!0?"lucide:database":"lucide:search",onClear:T[0]||(T[0]=M=>{l(a).clear(),l(e)()})},null,8,["query-value","icon"])])):I("",!0)]),w("div",kn,[l(s).hasFilters?(c(),C("small",qn," Refined to "+L(l(d).length),1)):(c(),C("small",In," Click on a tag to add it to your search. This will filter the datasets to those that match all your selected tags "))])],64))]),w("div",Sn,[l(n).status==="pending"?(c(),v(K,{key:0,class:"h-8 w-48"})):l(n).status==="success"?(c(),v(Ha,{key:1,value:l(r),"onUpdate:value":p},null,8,["value"])):I("",!0)])])),_(Za,{tags:l(S),onClear:T[1]||(T[1]=M=>l(s).set({filters:l(s).fieldFilters.filter(tt=>tt.key!=="tags")}))},null,8,["tags"]),_(ln,{items:l(h),pagination:l(k),status:l(n).status,error:l(n).error,"onUpdate:page":F},null,8,["items","pagination","status","error"])]),_:1})]),_:1})]),_:1})}}});export{Hn as default};
