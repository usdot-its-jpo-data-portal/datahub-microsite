import Q from"./Df6lCpfg.js";import U from"./BPTxRbs9.js";import{f as I,aE as j,h as _,a2 as S,S as A,aF as Z,G as c,j as s,o as u,w as a,b as o,d as i,t as v,i as w,a as r,c as k,F as G,r as M,ag as X,q as L,l as K,m as W,p as ee}from"./DN6eUyUg.js";import te from"./D5wLaS2h.js";import ae from"./ndqkNsLB.js";import{_ as se}from"./CfMXzzNV.js";import{_ as oe}from"./DxByapbm.js";import{_ as ne,a as le}from"./CarXell7.js";import{_ as re}from"./DozLhHPM.js";import{_ as ie}from"./CNjoXN4X.js";import{_ as ue}from"./DzZl3oeb.js";import de from"./jPXuI_2K.js";import{_ as me}from"./CQs2iN5x.js";import{u as fe,d as pe,L as ce}from"./er5RryG2.js";import{a as h}from"./Cw_PYYjt.js";import"./CBxy7Yvo.js";import"./DGwtyYx8.js";import"./B8Jid1Ql.js";import"./034Ph1SP.js";import"./DwOtvGDZ.js";import"./SamytLHb.js";import"./CnZznyRA.js";import"./_e_qfkaz.js";const _e={class:"space-y-4"},be={class:"space-y-2"},ge={class:"space-y-3"},ve={class:"flex items-start space-x-3"},ye={class:"space-y-4"},we={class:"space-y-4"},he={name:"FormDataRequest"},Ve=I({...he,setup(R){fe();const V=pe.refine(l=>{const e=h.find(p=>p.id===l.dataset);return e?.datasets&&e.datasets.length>0?l.subdatasets&&l.subdatasets.length>0:!0},{error:"At least one dataset must be selected",path:["subdatasets"]}),t=j({dataset:"",subdatasets:[],sampleDataReviewed:!1,organization:"",contactName:"",contactEmail:void 0,useCase:""}),d=_(()=>h.find(l=>l.id===t.dataset)),m=_(()=>d.value?.datasets&&d.value.datasets.length>0),b=_(()=>m.value?d.value?.datasets?.map(l=>({value:l.id,label:l.name}))||[]:[]),z=_(()=>t.dataset?m.value?t.subdatasets&&t.subdatasets.length>0:!0:!1),C=_(()=>{if(!t.dataset)return[];const l=d.value;return l?!m.value||!t.subdatasets?.length?[{name:l.name,url:l.url||"#"}]:t.subdatasets.map(e=>l.datasets?.find(p=>p.id===e)).filter(Boolean).map(e=>({name:e.name,url:e.url||"#"})):[]});S(()=>t.dataset,()=>{t.subdatasets=[],t.sampleDataReviewed=!1}),S(()=>t.subdatasets,()=>{t.sampleDataReviewed=!1});const g=A(void 0),T=Z().create(ce),P="https://s6ecoa09xe.execute-api.us-east-1.amazonaws.com/v1/forms/data-request";async function N(l){const e=T.open({url:P,apiKey:"gpXqf8izCY3eGXU4iRbCEm8Yp4OI08/v0+b138h1LgTC8XC+2VVv50BAfiYJwmbRNI0HbUJj4bu83kQH0VCCZGENdAjnQXLR7MWGFIGHu5TVZ/K1hF5tBEY7orBFJ87Kngy33UDeCCaatvD8zS4NItc8s9vCJNldpmPRSqFavQJxRuzH1NC1wIo5sa39r8CieGxz+u2brKkBdYHW/dQ7tC3H/VtJZeC8yYQ47ocejUCeMleE2uqdYJ3OdMRlP7wrjaj/njZJMndvQoqA9Y8nE4wg3fFyICY0wVbem9SCUfr9gpvqHjSBznVzFwfY9Yz12365T3A3ukaQQWIcKNare7//wLqHZ4wyHkEXd3HGus2IXvDBossNcZRp8XDwbXKE6hUlVqYtoeqWow96ZEfka/yg8NOrosUMlCQuyrC5xdhO7I4kgleVfwU+80QkRMzFso0oC9vmn3FNFOfNonBspk6CQ9OO2gQoXYVDnVZ7oZXurHVOMMh36VzqAuvCQJVfLNEncsB2GQVmBLfY/fuTG9FciQyVw9uZytDpBkuTcp+nXb3ZV54KvjIf2+wSW4z2uVoY2DeGh9ZGJv5MQEd6PsYPkRhPyWt7EibH/Tp8rVZboKKkye0H/r+RBrSGe471TQEO0YnhFLVr4qAlDIaylyslIYg4aUWnVH9986X38kI=_0_1",isDev:!1,body:JSON.stringify(l.data,null,2)});g.value=await e.result}return(l,e)=>{const p=te,q=U,O=ae,x=se,D=oe,f=le,F=X,H=re,y=ie,E=ue,Y=L,J=ne,B=de,$=me;return s(g)?.status==="success"?(u(),c(x,{key:0,ui:{root:"divide-none p-4"}},{default:a(()=>[o(p,null,{default:a(()=>[...e[7]||(e[7]=[i(" Request Complete ",-1)])]),_:1}),o(q,null,{default:a(()=>[...e[8]||(e[8]=[i(" Your request has been successfully received. Someone from the ITS JPO Support Team will reach out soon with more information. Here is a summary of the information you submitted. ",-1)])]),_:1}),o(O,null,{default:a(()=>[i(v(JSON.stringify(s(t),null,2)),1)]),_:1})]),_:1})):(u(),c(x,{key:1,ui:{root:"divide-none p-4"}},{header:a(()=>[o(p,null,{default:a(()=>[...e[9]||(e[9]=[i(" Request Form ",-1)])]),_:1}),o(q,null,{default:a(()=>[...e[10]||(e[10]=[i(" After you submit the form below, an administrator will be in contact to follow up with instructions for downloading the requested data. ",-1)])]),_:1})]),default:a(()=>[o(J,{state:s(t),schema:s(V),class:"space-y-6 max-w-200",onSubmit:N},{default:a(()=>[r("div",_e,[e[12]||(e[12]=r("div",null,[r("h4",{class:"text-lg font-semibold"}," Dataset Requested "),r("p",{class:"text-sm text-muted"}," Select the data you wish to request a download for ")],-1)),o(f,{label:"Dataset",name:"dataset",required:"",size:"lg"},{default:a(()=>[o(D,{modelValue:s(t).dataset,"onUpdate:modelValue":e[0]||(e[0]=n=>s(t).dataset=n),icon:"lucide:database",placeholder:"Select Dataset",class:"w-full",items:s(h),"value-key":"id","label-key":"name"},null,8,["modelValue","items"])]),_:1}),s(m)?(u(),c(f,{key:0,name:"subdatasets",required:"",size:"lg"},{description:a(()=>[i(" Choose which datasets you are requesting from "+v(s(d)?.name),1)]),default:a(()=>[r("div",be,[o(D,{modelValue:s(t).subdatasets,"onUpdate:modelValue":e[1]||(e[1]=n=>s(t).subdatasets=n),class:"w-full",multiple:"",items:s(b)},null,8,["modelValue","items"])])]),_:1})):w("",!0),s(z)&&s(C).length>0?(u(),c(f,{key:1,name:"sampleDataReviewed",required:"",size:"lg"},{default:a(()=>[r("div",ge,[r("div",ve,[o(H,{modelValue:s(t).sampleDataReviewed,"onUpdate:modelValue":e[2]||(e[2]=n=>s(t).sampleDataReviewed=n),class:"mt-1"},{label:a(()=>[...e[11]||(e[11]=[i(" I have accessed and reviewed the sample data ",-1)])]),description:a(()=>[(u(!0),k(G,null,M(s(C),n=>(u(),c(F,{key:n.name,to:n.url,target:"_blank",external:"",class:"block text-sm text-primary hover:text-primary-dark underline"},{default:a(()=>[i(v(n.name),1)]),_:2},1032,["to"]))),128))]),_:1},8,["modelValue"])])])]),_:1})):w("",!0)]),r("div",ye,[e[13]||(e[13]=r("div",null,[r("h4",{class:"text-lg font-semibold"}," Contact Information "),r("p",{class:"text-sm text-muted"}," Please provide your contact information. A follow-up email will be sent informing you of next steps. ")],-1)),o(f,{label:"Contact Name",name:"contactName",required:"",size:"lg"},{default:a(()=>[o(y,{modelValue:s(t).contactName,"onUpdate:modelValue":e[3]||(e[3]=n=>s(t).contactName=n),icon:"i-lucide-user",placeholder:"Contact Name",class:"w-full"},null,8,["modelValue"])]),_:1}),o(f,{label:"Contact Email",name:"contactEmail",required:"",size:"lg"},{default:a(()=>[o(y,{modelValue:s(t).contactEmail,"onUpdate:modelValue":e[4]||(e[4]=n=>s(t).contactEmail=n),icon:"i-lucide-at-sign",placeholder:"example@address.com",class:"w-full"},null,8,["modelValue"])]),_:1})]),r("div",we,[e[16]||(e[16]=r("div",null,[r("h4",{class:"text-lg font-semibold"}," Usage Information "),r("p",{class:"text-sm text-muted"}," Additional information about intended usage. ")],-1)),o(f,{label:"Organization",name:"organization",size:"lg"},{description:a(()=>[...e[14]||(e[14]=[i(" If you are requesting this data on behalf of an organization, please provide the name below. ",-1)])]),default:a(()=>[o(y,{modelValue:s(t).organization,"onUpdate:modelValue":e[5]||(e[5]=n=>s(t).organization=n),placeholder:"Example University",icon:"i-lucide-building",class:"w-full"},null,8,["modelValue"])]),_:1}),o(f,{label:"Use Case",name:"useCase",size:"lg"},{description:a(()=>[...e[15]||(e[15]=[i(" Optionally, you can provide the reason for your data request to help us understand how this data is being used. This response will not have an impact on your access to the data. ",-1)])]),default:a(()=>[o(E,{modelValue:s(t).useCase,"onUpdate:modelValue":e[6]||(e[6]=n=>s(t).useCase=n),placeholder:"Description of use case...",class:"w-full"},null,8,["modelValue"])]),_:1})]),o(Y,{type:"submit",size:"lg"},{default:a(()=>[...e[17]||(e[17]=[i(" Submit ",-1)])]),_:1})]),_:1},8,["state","schema"])]),footer:a(()=>[s(g)?.status==="error"?(u(),c($,{key:0,color:"error",variant:"subtle",icon:"lucide:circle-alert",title:"Your submission failed.",class:"text-error-700"},{description:a(()=>[i(v(s(g)?.error??"A server error has occurred")+". Please try again. If the issue persists, contact ",1),o(B,{href:"mailto:data.itsjpo@dot.gov",class:"text-error-700 hover:text-error-700/75 hover:border-error-700/75"},{default:a(()=>[...e[18]||(e[18]=[i(" data.itsjpo@dot.gov ",-1)])]),_:1}),e[19]||(e[19]=i(" for additional support. ",-1))]),_:1})):w("",!0)]),_:1}))}}}),Ce=Object.assign(Ve,{__name:"FormDataRequest"}),Ge=I({__name:"data-request",setup(R){return K({title:"Data Request",ogUrl:`https://its.dot.gov/data${W().fullPath}`,description:"Request access to large datasets from ITS DataHub, the U.S. Department of Transportation's open data portal for Intelligent Transportation Systems (ITS) projects funded by the ITS Joint Program Office (JPO).",ogDescription:"Request access to large datasets from ITS DataHub, the U.S. Department of Transportation's open data portal for Intelligent Transportation Systems (ITS) projects funded by the ITS Joint Program Office (JPO)."}),(V,t)=>{const d=Q,m=U,b=ee;return u(),k("div",null,[o(b,{class:"py-16"},{default:a(()=>[o(d,null,{default:a(()=>[...t[0]||(t[0]=[i("ITS DataHub Requests",-1)])]),_:1}),o(m,null,{default:a(()=>[...t[1]||(t[1]=[i(" ITS DataHub is a web-system designed for storing and making any open, non-personally identifiable data generated by the ITS Joint Program Office (JPO) funded projects discoverable. Most datasets are available for instant access and download through the search feature, however, for technical reasons, some larger datasets require filling out the form below prior to access and download. There are no restrictions on who can use this form to access the data. ",-1)])]),_:1}),o(m,null,{default:a(()=>[...t[2]||(t[2]=[r("strong",null," Before submitting a request, please make sure to review the sample dataset to confirm it meets your needs. ",-1)])]),_:1})]),_:1}),o(b,{class:"pb-16 max-w-5xl"},{default:a(()=>[o(Ce)]),_:1})])}}});export{Ge as default};
